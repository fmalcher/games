<form [formGroup]="form" (ngSubmit)="submitForm()">
  <div class="mt-1 flex rounded-md shadow-sm">
    <span
      class="inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm"
    >
      <button
        type="button"
        class="outline-none focus:outline-none border-none p-0 m-0 inline-flex items-center text-gray-500 hover:text-gray-900"
        (click)="toggleEmojiPanel()"
      >
        <div class="mr-1 -ml-1 h-6 w-6">
          <svg
            *ngIf="!emojiPanelVisible"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <path
              fill-rule="evenodd"
              d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
              clip-rule="evenodd"
            />
          </svg>

          <svg
            *ngIf="emojiPanelVisible"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <path
              fill-rule="evenodd"
              d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
              clip-rule="evenodd"
            />
          </svg>
        </div>

        <div class="text-4xl my-2">{{ form.value.emoji }}</div>
      </button>
    </span>
    <input
      type="text"
      formControlName="name"
      class="focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none text-lg border-gray-300"
      placeholder="Dein Name"
      autocomplete="off"
    />

    <button
      type="submit"
      class="px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm hover:bg-gray-100"
    >
      Speichern
    </button>
  </div>

  <div class="emoji-panel mt-2" *ngIf="emojiPanelVisible">
    <button
      type="button"
      class="outline-none focus:outline-none mr-3"
      *ngFor="let e of emojis"
      (click)="setEmoji(e)"
    >
      {{ e }}
    </button>
  </div>
</form>
